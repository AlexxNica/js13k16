<meta charset=utf-8><title>Super Chrono Portal Maker</title><body bgcolor=0><center><canvas width=1280 height=648 style="border:1px solid;background:#5C94FC;cursor:crosshair"id=a><img src="data:;base64,iVBORw0KGgoAAAANSUhEUgAAA1QAAAAQCAMAAAAmns6IAAAAWlBMVEUAAADFycoAAADjnSWAgID///+xNCVHSUECRYe6YRHJu5wAqADITAz8vLBIAP//slkCa9Mpzv+A0BDEUU9qawSKjsBCQv+wtOb3ORD/AABhY1rIzP4BIkP/2bLDllwqAAAAAnRSTlMAOrCfFIoAAAY2SURBVHhe1duJkqQ2DAZg5Qf6mPveI8n7v2Yk2SCQxjbQM53kT6eNQHZtde1XZpheWhdwUnF3bwG/+mGR/m8XiqFf8/F5EaLzIkTvi5AGGjsGHY80nUtjruDy6IJGCC+c29sXHfiV86KB+/O0czo9Sf5Kw+lEKdXZ5xS6OF1HBIBovhxyxoJmB4C/muOKbcvEMxRmxjntdWINxAabbUfhRLXffQC+KOSksRq3nNR9f2fB/R2Ghaoe5zOyh3REkkcJIio1NZ///HF+XATvfy4iqkYZCc0N53j8/ft4lCPRJLiR3imZsOCnC16qWYMKSKeA70F1HlNCVr9sDROqsXRQahpQQYUty2jgz4SZkcO6dSy16wGVo13tb30aBVPQnMyUBp+imqvq8SmqEcho6ddsZFPPU4aBUQkZnqgzBJWw+vHjh5ISVEpqGLJTKCmJsoKaAjBoQBAJ2YKimrymI8yI3MasQKWkhkG7C47G7EfVcQIyX4fSNxyYUQek5fSdYEFVAyqosGkZq+2Mnxk7aOU6ltqEIirtq/a39m2g+ZegjWrop6CECktUQxp7RfU8i6CSyGTbqRRVOnhXU4pKAkalpDKrhEpdFVCpJTWVjmBkzIypaaPKpkxVNIWc0+mPXagUATqHLNShDA2Hg6A6nM/g9dhYRkWcogaKV+PN0MZlDIoTSlTsoPY6oUPjUaahjAomPPRbUfo0iqiecr4IlZoyVYxJUYFHh2pYhWqIqI4cQ6UpoVJL6f3n16Aa1JSqQsGUqdqFqkuJyGJtZVR5yKgOnUbGhROnoVjG1q3L6OC5glPuoNXraIqoYrMF83zaH7X64ut3qpiIilBCNaxApaYUlQZImDh6AAyLwMc8yfvFqNQUh0lpEEy57EBF+W4tIPN1KH2DoIKgOnO4cn8xL9up6IJlbBMo6129TpRYs24xNfANbjvduVOd9C0+qCAA9Z1KAturIiowqkFt8ThHNexBRWzp+Pp6c/P6KkekqKAv26r4lSCA7M5Pj/4XqKjTRGRwtSv9hENCRbxDAUzM/dSw4UEFuWsRlcW11jA0UbXXsdA+VPYW+81U9dNoo3L+5En6hArYg4obGRVkVFRm6nkNKomh0v3pVaOHc1QooMqm9OhyVJwaqqdFdqE6HB705ZEBEV0srWFcgdfi4iFV2PpIPaKi9aioiopWo6ImKnfBzS+iKhDdgIraqIYU7c23f0kVAAG2H1U/ojJTK1FpqqjALxkjqp8uqGcdqkHzXagOI6qDnZEagDVM5rqDlmO7qVRFGqmsXPUsnOgKOxVnJSpqo8J3ocIX7FQR1Z2gElEyXI7KTBmqR8BQKaZ3QxVv/27E1I3d/mk+RxXSMNVGNaoq7VSnWTaiMkGqxNxIAHRmquNX3pPAdSf9+bJGVRG9Ef/P13TOm2NQv0H69p+pNC1UZGnh/C5U+IKfqSKqe3D4gLP9QQWSJh50ZFRmar5TPbqdioeAapgeVLApPcBGVE00m27/BkG1NOkRtVHBgsQEGrlno3RCUQCdqVt2i0Ft1+6ESpJRsSo1xYVlNypaj4quhor2PqhoUa9tlJp1qCigkq8qlVC5J+pxp8qYdFBUZmrP7V/lkbqaugoqizuB7ajwOAvy3qOoOlWiKDSUw0JSi5m06zqd8lbGjnS+Fv8mKutGu6OGyrquhMpUXYaKHCrNalSmClRApabWovKJv/y13/5eA1UjW1HBRVQASdGI6iGFTJW2jNWDTuMGRYMOkEKTUVnhfhVj5TZUxXmxtC47WtERUcWua6AyVReioiqqHlP6Aqpw99fLoGFQM1OMKgMEpq8p2c9UXGBYBPFrSuk0hiuhGhaBqz0ql4jKzyeiBCYrUhNakoUZkRDJ5hJRRaMQZIb1S6fWCZWFYhlR5QRUFmqjIrj+ZkdEFbv2oMrZgooAP30XKiqhAsSUpY+oJGaKsiX0OSLJ8tH4Qm1EZV+ohX2hdgzov4fqaf7fKlTJy6RGBqum4k27xtFakinyiVB8uQWVm1dFFXm2O6KPyPxqqGgXqilcFG5P7saxxyKujGp7F/pYhODy7gKXwj/9SKEroKpnOyoXY2JaQvXGCVcc15YqX25C5ea1UZET0+qIqHzXFVFRA9U/0X8GNpca52UAAAAASUVORK5CYII"hidden id=tileset><script>c=a.getContext("2d");localStorage["scpm"]=localStorage["scpm"]||1;d=0;n=0;o=false;p=false;x=y=0;s=0;aa=ab=ac=0;_=0;ad=0;t={};levels=[,{hash:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000006565600000000000000006000060000000000000000000000004004000000000000000000000F000000000000044004400000000000000000000G0000000000004440044400007000070000040033333333333333333003333333333333333333333333333333333333300333333333333333333333",pipes:[[]],balances:[],txt:"Move with arrow keys or WASD or ZQSD. Collect all coins and reach the flag.",record:215},{hash:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006006006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006006000000000000000000002000000000500500500500004000400000000000000F000000000000000000044000440000000000000G0000000000000000004440004440007700000033333333333333333333333333333333333333333333333333333333333333333333333333333333",pipes:[],balances:[],txt:"If you're stuck, restart with R.",record:377},{hash:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004004004008008000002000000600600600004000000000000000000000000F000000000000044400000000000000000000000G0000000000004444400000000000000000000033388888888888888888888888888888888883333338888888888888888888888888888888888333",pipes:[],balances:[],txt:"Ice is slippy if you're not standing still.",record:254},{hash:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000020000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000600000<0000000000000000000000000000000000000000000000040000000040000000000<00<004000000000000440000000044000000F000000004400000000004440000000044400000G0000000044400000000444400000000444400033333333333333330333333333333333333333333333333333333333333333333333333333333333",pipes:[],balances:[],txt:"Press space to hold and drop cubes. Jump and press space to throw them.",record:530},{hash:"000000000000000000000000000000000000000000000000<00000000000000000000000000000000000000000000000000000000000000000000000000000099990000000000000000000000000000000000000009000000000000000000000000000000000000:::9000000000000000000000000000000000000000900000000000000000000000000000000000099990000000000000000000000000000000000000009000000000000000000000000000000000000:::900000000000000000000000000000000000000090000000000000000000000000000000000006669000000000000000000000000000020000000000900000<00000000000000000000000000000099990000050000000000000000000000400000000009000000000000000000000000000040F000000009000000000000000000000000000040G0;000000900;000000;00000000000;000000433333333333333333999999933333::::::3333333333333333333333999999933333::::::33333",pipes:[],balances:[],txt:"Yellow switches are all connected.",record:1111},{hash:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003333333333300000000000440000000000000000000000000000000000000000000000000060000000000000000000000000000000600000000000000<000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000F000000000000000000000000000000000000000G0000000000000000000000000000000000000033333333333333333333333333333333333333333333333333333333333333333333333333333333",pipes:[[8,8,16,6,16],[24,16,6,22,16],[35,7,16,30,5]],balances:[],txt:"Each green switch controls one pipe.",record:724},{hash:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000<00000000000000000000000000000000000000000000000000000000000000000000000099999999900000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000F000000000000000000000000000000000000000G0000000000000000000000000000000000000333333000000000000000000000000000000000033333300000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000;000060000000000000040000000000000000033333006000000000000004000000000000000003333300600000000333333330000000000000000000000000000000033333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",pipes:[],balances:[[8,9,13,17],[28,6,23,14]],record:306},{hash:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444444444444000000000000000000000000000300000000000000000000000000000000000040030606060600000000000000000000000000604003000000000<0000000000000000000000000040030000000000000000000000000000000000004003000004444444000000000000000000000000400300000300000000000000000000000000000040030000030000000000000000000000000000004003000003000000000000000000000000000000400300000300000000000000000000000000000040030000030000000000000000002000000000004003000003000000000000000000000000000000400400F004000000000000000000000000000000400400G0040000000000000000000000000000;040044444440000000000000000003::::::::333300000000000000000000000000000000000000000",pipes:[],balances:[],txt:"Aim with mouse, send ag with left click and right click.",record:342},{hash:"000000000000000000000000000000000000000004444000000000000000000000000000000000000400000000000000000000000000000000000000040000000000000000000000000000000000000004000000000000000000000000000000000000000400000000000000000000000000000000000000040000000000000000000000000000000000000004000000000000000000000000000000000000000400000000000000000000000000000000000000040000000000000000000000000000000000000004000000000000000000000000000000000000000400000000006000000000000000000000000000040000000000000000000000000000000000000004000000000000000000000000000000000002000400000000000000000000000000000000000000040000F000000000000000000000000000000000040000G00000000000000000000000000000000004444444444440000000000008888888888888800000000000000000000000000000000000000000",pipes:[],balances:[],txt:"Use momentum!",record:208},{hash:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000888888888888888888880000000000000000000030000000000000000008000000000000000000003000000000000000000800000000000000000000300200000000000000080000000000000000000030000000000000000008000000000000000000003000000000006000000800000000000000000000300000770000000000080000000000000000000044444444444440600008000000000000000000003000000000000000000800000000000000000000300000000000600000080000000000000000000030000000000000000008000000000000000000003000000000000000000800000000000000000000300F000000000000000800000000000000000000300G00000000000000080000000000000000000044444444444440000008000000000000000000000000000000000000000000000000000",pipes:[],balances:[],record:266},{hash:"000000000000000000000000000000000000000008888888888888888888888888888888888888800800000000000000000000000000000000000080080000000000000000000000000000000000008008998000000000000000000000000000008:::8008998000000000000000000000000000008:::8008998000000000000000000000000000008:::8008008000000000000000000000000000008000800800800000000000000000000000000000800080080080000000000000000000000000000080008008008000000043333333333300000000008000800800800000044300000300000006666660800080080080000044430000030000000000000080008008008333333333000003002000333333338000800800800000000000000400000000000000000080080000000000000F000400000000000000000080080000000000000G0;040000000000000000008008000000000000333333333300000000000000800000000000000000000000000000000000000000",pipes:[],balances:[],record:589},{hash:"00000000000000000044000000000000000000000000000000000000000000000000000000000000000000000000000002F000000000000000000000000000000000000000G0000000000000000000000000000000000000033000000000000000000000000000000000000000000000000000000000000000000000000060000000000060000000000000000000000000000000000000000000000000000000000000000006000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000<6000000000000000000000000000000000000003300000000000000000000000000000000000000000000000000000000000000000000000000000000044000000000000000000",pipes:[],balances:[[],[19,7,24,4],[19,9,24,15],[19,11,14,15],[19,13,14,4]],record:541},{hash:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020300000000000000000000000000000000000000030000000000000000000000000000000000000003000000000000000000000000000000333333333300000000000000000000000000000030000000000000000000000000000000000000003000000000000000000000000000000000000000300000000000000000000000000000000000000030000000000000000000000000000000000000003000000000000000000000000306000000000000300000000000000000000000030000000F000000300000000000000000000000030000000G0000003000000000000000000000000333333333333333300000000000000000000000000000000000000000000000000000000",pipes:[[21,16,8,10,16]],balances:[],txt:"Need a little help from the past? Go to the time machine and press Shift!",record:262},{hash:"0000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000006660000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000333009990000000000000000000000000600::0000000000000000000000000000000000000:::000000000000000000000000000000000600::::00000000000000000000000000000000000:::::0000000000000000000000000000000600::::::000000000000000000000000000000000:::::::00000000000000000000000000000600::::::::0000000000000000000000000000000:::::::::0000000000000000000000F0000600::::::::::0000000000000000000000G00;000:::::::::::0000000000000000033333333333333333333333333333333333333333333333333333333333333333333333333333333",pipes:[],balances:[],record:309},{hash:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000003000000000000000000000000000000000000333300000000000000000000000000000000000030000000000000000000000000000000000000003000000000000000000000000000000000000000300000000000000000000000000000000000000030000000000000000000000000030F000000000030000000000000000000000000030G00000<00003000000000000000000000000003333333333333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",pipes:[],balances:[],record:168},{hash:"00000000000000000000000<0000000000000000000000000000020000000000000000000000000000000000000000000000000<0000000000000000000000000000000000000000000000000000000000000000000004000000000<0000000000000000000000000000000000000000000000000000000000000000000000000000000<0000F000000000000000000000000000000000000000G0000000000000000000000000000000000<0000000000000000000000000000000000000000000000000000000000000000000000000000000<0000000000000000000000000000000000000000000000000000000000000000000000000000000<0000000000000000000000000000000000000000000000000000000000000000000000000000000<0000000000000000000000000000000000000000000000000000000000000000000000000000000<000000000000000000000000033333333333333333333333000000000000000000000000000000000000000000000000",pipes:[],balances:[],record:403},{hash:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000030000000000000000003000000606060606060603000000000000000000300000000000000000000300000000000000000030999::::::::::::::::3000000000000000000300000000000000000000300000000000000000030000000000000000000030000000000000000003000000000000000000003000000000000000000300000000000000000020300000000000000000030000000000000000000030000000000000000003000000000000000000003000000000000000000300000000000000000000300000000000000000030000000000000000F00030000000000000000003000000;000000000G0003000000000000000000333333333333333333333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",pipes:[[11,15,7,21,15]],balances:[],txt:"Sometimes you need to make multiple time travels...",record:736},{hash:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000060000000000000000000000000000000000000006000000000000000000000000000000000;;;;;;;000000000000000000000000000000000333333300000000000020000000000000000000030000000000000000000000000000000000000003000000000000000003000000000000000000000300000000000000000300F000000000000000000300000000000000000300G0000000000000000003000000000000000003333339999999999993333300000000000000000000003000000000000300000000000000000000000000300000000000030000000000000000000000000030000000000003000000000000000000000000003333333333333300000000000000000000000000000000000000000000000000000000",pipes:[[25,12,7,17,12]],balances:[],txt:"If a past self dies or can't reach the time machine, it's a paradox! *Ik Ik theme*",record:739},{hash:"0000000000000000000000000000000000000000000000000000000000000000020300000000000000000000000000000000000000030000000000000000000000000000000000003333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030F000000000000000000000000000000000000030G000<00<00<000000000000000000000000000333333333333333300000000000000000000000000000000000000000000000000000000",pipes:[],balances:[],record:596},{hash:"00000000000000000000000000000000000000000000000000000000000<00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000F000000000000000000000000000000000000000G000000000000000000000000000000000000033333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000<00033330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000<0<000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003333330000000000000000000000000000000000000000000000000000000000",pipes:[],balances:[[14,4,19,16]],txt:"Heros and cubes have the same weight.",record:995},{hash:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034443000003444300000000090000000000000003000300000300030000000009000000000000000000030000000000000000000900000000000000000003000000000000000000090000000000000000000300;00000000000000009000000000003330000033333000000000000000900000000000000000000000000000000000000090000000000000000000000000000000000000009000000000000000000000000000000000000000900000000000000000000000000000000000000090000000000000000000000000000000000000009020000000000000000000000000000000000000900000000000F000000000000000000000000000900000000000G000000000000000000000000000900000000004444444444444444444444444444444444000000000000000000000000000000000000000000000",pipes:[[24,3,16,3,7]],balances:[[8,12,18,12]],txt:"Only two ag can exist at the same time.",record:1545},{hash:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000=000000000000000000000000000006060606060=000000000000000000000000000000000000000=00000000000000000000000000000003333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000444000000F000000000000000000000000300004444400000G00000000300000000000000033333333333333333333333330000000000000000000000000000000000000000000000000",pipes:[[24,16,6,19,16]],balances:[[]],txt:"Clouds will block all your future selves!",record:579},{hash:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000002000000F000000000000000060600000000000000000000G00;000000000000000000000000000000000003333339990:::09990:::09990:::333333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",pipes:[],balances:[],txt:"Count in your head: 1-2-3-switch! 1-2-3-switch! I know, this one's terrible.",record:497},{hash:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000003333333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000<000000000000000000000000000000000000009990000000000000000000000000000000000000000000000000000000000000000000000000=000000000000000000000000000000000000000=0000000003000000000000000000000003000F0=0000000003000000000000000000000003300G0=0000000003000000000000000003000003333333333333333300000000033300000330;0000000000000000000000000000000000003333330000000000000000003330000000000000000000000000000000000000000000000000000",pipes:[[21,14,5,26,16]],balances:[],txt:"You can grab and throw cubes even if they're not here yet...",record:609},{hash:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044440000000000000000000000000000000000004000000000000000000000000000000000000000400000000000000000000000000000000000000040000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000009=000000000000000000000000000000000000009=00000600000004000000000000000000000F009=00000000000004000000000000000000000G009=0000070000000400000000000000000000333333333333333344440000000000000000000030000000000000000000000000000000000000;030000000000000000000000000000000888003333000000000000000000000000000000000000000000000000000000000000000000000000000",pipes:[],balances:[],txt:"You can aim and shoot ag even if you're not here yet...",record:611},{hash:"000F000000000000000000000000000000000000000G000000000000000000000000000000000000000000000000000000000000000000000000000000007007000000007070000000000000000000000040404440<004004440000000000000000000000047404000400400404000000000000000000000004440440040040040400000000000000000000000404040004704704040000000000000000000000040404440440440444000000000000000000000000000000000000000000000000000000002000000000000000000000006660660060066060000000000000000000000000888088068008808000000000000000000000000008008008800080800000000===========00000608008800800880868000000000000000000000080800080080008088000000000000000000000008880088088808808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",pipes:[],balances:[[33,5,24,5],[27,5,30,5]],record:507},{hash:"00000000000000000=000000000000000000000000000000000000000=0F0000300000000000000000003333333330000=0G0;00300000000000000000003000000090000333333330000000000000000000300000009000030000000000000000000000000030000000900033000000000000000000000000003000333333333300000000000000000000000000300000000000333333333333333333333330000030000000000030000000009000000000003000003000000000003020000000900000000000300333333333333300300000000090000000000030030000000:000000300000000070000000000030030000000:000000333444444444444444400030030000000:0000003000000000000000000000300300333333333333300600000000000000000030030000000000000000000000000000000000003003000000000000000000004000000040<000003003388888888888888883344000000044333333300000000000000000000000000000000000000000",pipes:[[36,16,8,34,16]],balances:[],record:1777},{hash:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000=000000000900000000000000000000000000000=0020F0009900000000000000000000000000000=0000G00999000:000000000000000000000000055555555555000000000000000000000000000000000454000000000:00000000000000000000000000045400000000000000000000000000000000000004540000000:000000000000000000000000000004540000000000000000000000000000000000000454000000000:00000000000000000000000000045400000000000000000000000000000000000004540000000:000000000000000000000000000004540000000000000000000000000000000000000454000000000:00000000000000000000000060045400600000000000000000000000000000000004540000000:000000000000000000<000000000045400;00000000000000000000005555555599955555555555555550000000",pipes:[[12,17,5,15,17]],balances:[],record:715},{hash:"00000000000000000003000000000000000000000000000000000000000300000000000000000000000000000000000000030000000000000000000000000000000000000003000000000000000000000000000000000000000300000000000000000000000000000000000000030000000000000000000000000000000000000003000000000000000000000000000000000000000300000000000000000000000000000000000000030000000000000000000000000000000000000003000000000000000000000000000000000000000300000000000000000000000000000000000000030000020000000000000000000000000000000003000000000000000000000000000000000000000300000000000000000000000000000000000000030000000000000000000000000000000<0<0<0<0300000000000000000000000000000F000000000300000000000000000000000000000G0000000003000000000000000000000000000033333333333333333333300000000000",pipes:[],balances:[],txt:"By the way, did you notice that           cubes can glitch through walls?  ",record:632},{hash:"0033333000000000000000000000000000000<000030F03000000000<<00000000000000000000000030G0300000<<00000000<<0000<0000004000000300030000000<<0000<<0000000000020000000030003000000000<<0000<<0000000000000000003000300000<<0000<<0000000000000000000000300030000000<<0000<<000000000004000000003000300000<<00000000<<000000000000000000300030000000<<000000000000000000000000003000300000<<00000000<<000000000000000000300030000000<<0000<<000000000000000000003000300000<<000000000000000000000000000030003000000000000000<<000000000000000000000000000000<<0000<<000000000000000000000000000000<<00000000<<00000000000000000000000000000000000000000000000000000000000000000000777700007777000000000000000000088888888888888888888888888888888000000000000000000000000000000000000000000000",pipes:[[16,16,8,19,7],[18,16,8,16,7],[33,11,16,28,5]],balances:[[4,3,36,1],[4,4,37,6],[4,5,37,11],[4,6,37,16],[4,7,9,16],[4,8,-1,16],[4,9,1,-1],[28,4,28,6]],txt:"Thanks for playing! Please create and share levels now!",record:735}];draw_tile=function(id,q,r){c.drawImage(b,id*16,0,16,16,q*32,40+r*32,32,32)};draw_sprite=function(id,x,y){c.drawImage(b,id*16,0,16,16,x,y,32,32)};tile_at=function(x,y){if(!t.x[~~(y/32)])return 0;return t.x[~~(y/32)][~~(x/32)]||0};set_tile=function(x,y,value){if(!t.x[~~(y/32)])return;t.x[~~(y/32)][~~(x/32)]=value};is_Q=function(id,spikes){if(id==13)document.title=ae.length+" "+Z+" "+N;return id==13&&Z!=0||spikes&&id==7||Q[id]||0};is_writable=function(q,r){if(!t.x[r])return 0;return!t.x[r][q]||t.x[r][q]<14||t.x[r][q]>21};reset_Z=function(){return{x:t&&t.start?t.start[0]*32:640,y:t&&t.start?t.start[1]*32:0,e:0,f:0,d:0,ab:ab||false,j:[],m:aa||false,l:[],ac:ac||false,g:[],r:[],shift:[],C:[],z:[],angle:0,i:1,a:0,t:null,o:null,position_on_cube:null,v:0,n:true}};reset_current_level=function(timetravel){I=false;M=0;J=0;K=0;L=0;N=0;O=reset_Z();Q=[0,0,0,1,1,1,0,0,1,1,0,0,0,0,1,0,1,1,1,1,1,0,0,0,0,0];t.u=[];U=false;V=[];W=[];X={q:-1,r:-1};Y={q:-2,r:-2};if(!timetravel)ae=[]};reset_maker_level=function(){t={x:[],pipes:[],balances:[],u:[],tested:false};for(j=0;j<20;j++)t.x[j]=[];pipe_click=0;v=0;w=0;z=0;A=0;G=true;H=false};first_N=function(){reset_current_level(1);t.x=[];for(var j=0;j<20;j++){t.x[j]=[];for(var i=0;i<40;i++){t.x[j][i]=t.hash.charCodeAt(j*40+i)-48;if(t.x[j][i]==15)t.x[j][i]=0}}for(var i in t.pipes)V[i]={pressed:false,y:t.pipes[i][1]*32};for(var i in t.balances)W[i]={y1:t.balances[i][1]*32,y2:t.balances[i][3]*32,weight1:0,weight2:0}};parse_draw_map=function(){for(j=0;j<20;j++)for(i=0;i<40;i++){F=t.x[j][i];if(F==12){F=0;if(N==0)t.u.push({x:i*32,y:j*32,f:0,Z:null})}if(F==13&&ae.length==0){c.save();c.globalAlpha=.5;draw_tile(F,i,j);c.restore()}else draw_tile(F,i,j);if(F==2&&N==0){E=false;if(j<20)for(k=j+1;k<20;k++)if(!t.x[k][i]&&!E){draw_tile(24,i,k);t.x[k][i]=24}else E=true}if(F==23&&N==0){t.start=[i,j];O.x=t.start[0]*32;O.y=t.start[1]*32}}if(N==0){for(Z in ae){ae[Z].x=t.start[0]*32;ae[Z].y=t.start[1]*32;ae[Z].e=0;ae[Z].f=0;ae[Z].ab=false;ae[Z].m=false;ae[Z].ac=false;ae[Z].q=false;ae[Z].i=1;ae[Z].s=0;ae[Z].t=null;ae[Z].o=null;ae[Z].position_on_cube=null}for(i in t.u)t.u[i].Z=null}};gravity_and_collisions=function(obj,obj_width,type){if(typeof obj.t!="undefined"&&obj.t!==null)obj.weight=1+t.u[obj.t].weight;if(obj.o!==null&&obj.o!=obj.t){obj.x=t.u[obj.o].x+obj.position_on_cube;obj.y=t.u[obj.o].y-32;obj.o=null}if(obj.e>0){obj.portal_af=null;if(tile_at(obj.x+obj_width+obj.e,obj.y+16)==4&&Y.q>=0&&X.q==~~((obj.x+obj_width+obj.e)/32)&&X.r==~~((obj.y+16)/32)&&X.side==3)obj.portal_af=Y;if(tile_at(obj.x+obj_width+obj.e,obj.y+16)==4&&X.q>=0&&Y.q==~~((obj.x+obj_width+obj.e)/32)&&Y.r==~~((obj.y+16)/32)&&Y.side==3)obj.portal_af=X;if(obj.portal_af){obj.y=~~((obj.y+16)/32)*32;obj.f=0;obj.k=true;if(tile_at(obj.x+obj.e,obj.y+16)==4){obj.teleport=true;obj.momentum=Math.max(obj.e,6);obj.e=0;obj.c=8}}else if(is_Q(tile_at(obj.x+obj_width+obj.e,obj.y))||is_Q(tile_at(obj.x+obj_width+obj.e,obj.y+31))){obj.x=~~((obj.x+obj.e)/32)*32+32-obj_width-1;obj.e=0}if(obj.x>1280-obj_width){obj.x=1280-obj_width;obj.e=0}for(var j in t.pipes)if(!obj.k&&obj.x+obj_width+obj.e>=t.pipes[j][0]*32&&obj.x+obj_width+obj.e<=t.pipes[j][0]*32+16&&obj.y+31>=V[j].y&&obj.y<=V[j].y_base){obj.x=t.pipes[j][0]*32-obj_width-1;obj.e=0}}if(obj.e<0){obj.portal_af=null;if(tile_at(obj.x+obj.e,obj.y+16)==4&&Y.q>=0&&X.q==~~((obj.x+obj.e)/32)&&X.r==~~((obj.y+16)/32)&&X.side==1)obj.portal_af=Y;if(tile_at(obj.x+obj.e,obj.y+16)==4&&X.q>=0&&Y.q==~~((obj.x+obj.e)/32)&&Y.r==~~((obj.y+16)/32)&&Y.side==1)obj.portal_af=X;if(obj.portal_af){obj.y=~~((obj.y+16)/32)*32;obj.f=0;obj.k=true;if(tile_at(obj.x+obj.e+obj_width,obj.y+16)==4){obj.teleport=true;obj.momentum=Math.max(-obj.e,6);obj.e=0;obj.c=8}}else if(is_Q(tile_at(obj.x+obj.e,obj.y))||is_Q(tile_at(obj.x+obj.e,obj.y+31))){obj.x=~~((obj.x+obj.e)/32)*32+32;obj.e=0}if(obj.x<0){obj.x=0;obj.e=0}for(j in t.pipes)if(obj.x+obj.e>=t.pipes[j][0]*32+64-16&&obj.x+obj.e<=t.pipes[j][0]*32+64&&obj.y+31>=V[j].y&&obj.y<=V[j].y_base){obj.x=t.pipes[j][0]*32+64;obj.e=0}}obj.x+=obj.e;if(!obj.k){obj.d=false;obj.f+=2;if(obj.f>24)obj.f=24}if(obj.f>0){obj.portal_af=null;if(tile_at(obj.x+obj_width/2,obj.y+32+obj.f)==4&&Y.q>=0&&X.q==~~((obj.x+obj_width/2)/32)&&X.r==~~((obj.y+32+obj.f)/32)&&X.side==0)obj.portal_af=Y;if(tile_at(obj.x+obj.e/2,obj.y+32+obj.f)==4&&X.q>=0&&Y.q==~~((obj.x+obj_width/2)/32)&&Y.r==~~((obj.y+32+obj.f)/32)&&Y.side==0)obj.portal_af=X;if(obj.portal_af){obj.x=~~((obj.x+obj_width/2)/32)*32+(32-obj_width)/2;obj.e=0;obj.k=true;if(obj.f<10&&tile_at(obj.x+obj_width/2,obj.y+32+obj.f-16)==4||obj.f>10&&tile_at(obj.x+obj_width/2,obj.y+32+obj.f)==4){obj.teleport=true;obj.momentum=Math.max(obj.f,6);obj.f=0;obj.c=8}}else if(is_Q(tile_at(obj.x,obj.y+32+obj.f))||is_Q(tile_at(obj.x+obj_width-1,obj.y+32+obj.f))||type==1&&tile_at(obj.x,obj.y+32+obj.f)==7||type==1&&tile_at(obj.x+obj_width-1,obj.y+32+obj.f)==7){obj.y=~~((obj.y+obj.f)/32)*32;obj.f=0;obj.d=true}for(i in t.u)if(!t.u[i].k&&!obj.k&&obj.x+obj_width>t.u[i].x&&obj.x<t.u[i].x+32&&obj.y+31+obj.f>t.u[i].y-8&&obj.y+31+obj.f<t.u[i].y+20){obj.y=t.u[i].y-32;obj.f=0;obj.d=true;obj.o=i;obj.position_on_cube=obj.x-t.u[i].x;t.u[i].weight+=obj.weight}for(j in t.pipes)if(obj.x+obj_width-1>=t.pipes[j][0]*32&&obj.x<t.pipes[j][0]*32+64&&obj.y+31+obj.f>=V[j].y&&obj.y+31+obj.f<=V[j].y+32){obj.y=V[j].y-32;obj.f=0;obj.d=true;obj.b=true}for(j in t.balances)if(obj.x+obj_width>=t.balances[j][0]*32-32&&obj.x<t.balances[j][0]*32+64&&obj.y+31+obj.f>=W[j].y1-8&&obj.y+31+obj.f<=W[j].y1+32){obj.y=W[j].y1-32;obj.f=0;obj.d=true;obj.b=true;W[j].weight1+=obj.weight}for(j in t.balances)if(obj.x+obj_width>=t.balances[j][2]*32-32&&obj.x<t.balances[j][2]*32+64&&obj.y+31+obj.f>=W[j].y2-8&&obj.y+31+obj.f<=W[j].y2+32){obj.y=W[j].y2-32;obj.f=0;obj.d=true;obj.b=true;W[j].weight2+=obj.weight}}if(obj.f<0){obj.portal_af=null;if(tile_at(obj.x+obj_width/2,obj.y+obj.f)==4&&Y.q>=0&&X.q==~~((obj.x+obj_width/2)/32)&&X.r==~~((obj.y+obj.f)/32)&&X.side==2)obj.portal_af=Y;if(tile_at(obj.x+obj.e/2,obj.y+obj.f)==4&&X.q>=0&&Y.q==~~((obj.x+obj_width/2)/32)&&Y.r==~~((obj.y+obj.f)/32)&&Y.side==2)obj.portal_af=X;if(obj.portal_af){obj.x=~~((obj.x+obj_width/2)/32)*32+(32-obj_width)/2;obj.e=0;obj.k=true;if(tile_at(obj.x+obj_width/2,obj.y+obj.f+10)==4){obj.teleport=true;obj.momentum=6;obj.f=0;obj.c=8}}else if(is_Q(tile_at(obj.x,obj.y+obj.f))||is_Q(tile_at(obj.x+obj_width,obj.y+obj.f))){if(tile_at(obj.x,obj.y+obj.f)==5){set_tile(obj.x,obj.y+obj.f,0);mkaudio(SNDbrick1).play()}if(tile_at(obj.x+24,obj.y+obj.f)==5){set_tile(obj.x+24,obj.y+obj.f,0);mkaudio(SNDbrick1).play()}obj.y=~~((obj.y+obj.f)/32)*32+32;obj.f=0}}obj.y+=obj.f;if(obj.teleport){obj.teleport=false;obj.d=false;obj.x=obj.portal_af.q*32+(32-obj_width)/2;obj.y=obj.portal_af.r*32;if(obj.portal_af.side==0){obj.f=-obj.momentum;obj.e=0}if(obj.portal_af.side==1){obj.e=obj.momentum;obj.f=0;obj.x+=8}if(obj.portal_af.side==2){obj.f=obj.momentum;obj.e=0;obj.y+=8;obj.c=2}if(obj.portal_af.side==3){obj.e=-obj.momentum;obj.f=0;obj.x-=8}}if(tile_at(obj.x,obj.y+20)==11){set_tile(obj.x,obj.y+20,25);R=true}else if(tile_at(obj.x+obj_width,obj.y+20)==11){set_tile(obj.x+obj_width,obj.y+20,25);R=true}for(var i in t.pipes)if(obj.x+obj_width>=t.pipes[i][3]*32&&obj.x<=t.pipes[i][3]*32+32&&obj.y+32>=t.pipes[i][4]*32&&obj.y+20<=t.pipes[i][4]*32+32)V[i].pressed=true};play_Z=function(this_Z,past){if(this_Z.a!=3&&!I&&!L){this_Z.a=0;this_Z.b=false;if(!this_Z.c){if(this_Z.d&&tile_at(this_Z.x,this_Z.y+33)!=8&&tile_at(this_Z.x+24,this_Z.y+33)!=8||!this_Z.d&&Math.abs(this_Z.e)<10)this_Z.e=0;if(this_Z.g[N]&&!((tile_at(this_Z.x,this_Z.y+33)==8||tile_at(this_Z.x+24,this_Z.y+33)==8)&&this_Z.e!=0)){if(this_Z.i==1)this_Z.e=Math.max(this_Z.e,6);else this_Z.e=0;this_Z.i=1;if(this_Z.d)this_Z.a=1}if(this_Z.j[N]&&!((tile_at(this_Z.x,this_Z.y+33)==8||tile_at(this_Z.x+24,this_Z.y+33)==8)&&this_Z.e!=0)){if(this_Z.i==0)this_Z.e=Math.min(this_Z.e,-6);else this_Z.e=0;this_Z.i=0;if(this_Z.d)this_Z.a=1}}if(!this_Z.k&&this_Z.l[N]&&this_Z.d&&!((tile_at(this_Z.x,this_Z.y+33)==8||tile_at(this_Z.x+24,this_Z.y+33)==8)&&this_Z.e!=0)){this_Z.f-=20;this_Z.d=false;this_Z.m=false;this_Z.n=false;this_Z.o=null;mkaudio(SNDjump2).play()}if(this_Z.f<0&&!this_Z.d)this_Z.a=2;gravity_and_collisions(this_Z,24,0);if(tile_at(this_Z.x+24/2-8,this_Z.y+16-8)==6){set_tile(this_Z.x+24/2-8,this_Z.y+16-8,0);mkaudio(SNDcoin1).play()}if(tile_at(this_Z.x+24/2+8,this_Z.y+16-8)==6){set_tile(this_Z.x+24/2+8,this_Z.y+16-8,0);mkaudio(SNDcoin1).play()}if(tile_at(this_Z.x+24/2-8,this_Z.y+16+8)==6){set_tile(this_Z.x+24/2-8,this_Z.y+16+8,0);mkaudio(SNDcoin1).play()}if(tile_at(this_Z.x+24/2+8,this_Z.y+16+8)==6){set_tile(this_Z.x+24/2+8,this_Z.y+16+8,0);mkaudio(SNDcoin1).play()}if(this_Z.shift[N])if(tile_at(this_Z.x,this_Z.y)==23||tile_at(this_Z.x+24,this_Z.y)==23||tile_at(this_Z.x,this_Z.y+31)==23||tile_at(this_Z.x+24,this_Z.y+31)==23){if(!past){this_Z.p=N;ae.push(this_Z);N=-1;O=reset_Z()}else this_Z.q=true;mkaudio(SNDtimetravel0).play()}if(tile_at(this_Z.x+3,this_Z.y)==7||tile_at(this_Z.x+24-3,this_Z.y)==7||tile_at(this_Z.x+3,this_Z.y+5)==7||tile_at(this_Z.x+24-3,this_Z.y+5)==7){this_Z.a=3;this_Z.f=-1*20}if(this_Z.y>648){this_Z.a=3;this_Z.f=-1.5*20}if(tile_at(this_Z.x+1,this_Z.y+1)==9||tile_at(this_Z.x+24-1,this_Z.y+1)==9||tile_at(this_Z.x+1,this_Z.y+31)==9||tile_at(this_Z.x+24-1,this_Z.y+31)==9){this_Z.a=3;this_Z.f=-1.5*20}if(this_Z.b&&(is_Q(tile_at(this_Z.x,this_Z.y+1))||is_Q(tile_at(this_Z.x+24,this_Z.y+1)))){this_Z.a=3;this_Z.f=-1*20}if(this_Z.r[N])this_Z.s^=1;if(this_Z.s){if(this_Z.t===null)for(i in t.u)if(this_Z.x+24>=t.u[i].x&&this_Z.x<=t.u[i].x+31&&this_Z.y+31+4>=t.u[i].y&&this_Z.y<=t.u[i].y+31){this_Z.t=i;t.u[i].Z=this_Z;this_Z.pick_cube_animation_N=5;break}}else if($=t.u[this_Z.t]){$.x=this_Z.x;$.o=null;if(!this_Z.d)if(this_Z.i==0)$.e=-14;else $.e=14;if(is_Q(tile_at($.x,$.y)))$.x=~~($.x/32)*32+32;else if(is_Q(tile_at($.x,$.y+31)))$.x=~~($.x/32)*32+32;else if(is_Q(tile_at($.x+32,$.y)))$.x=~~($.x/32)*32-1;else if(is_Q(tile_at($.x+32,$.y+31)))$.x=~~($.x/32)*32-1;$.Z=null;t.u[this_Z.t]=$;this_Z.t=null;this_Z.weight=1}if(this_Z.t!==null){if(this_Z.i==0)t.u[this_Z.t].x=this_Z.x-6;if(this_Z.i==1)t.u[this_Z.t].x=this_Z.x-4;if(this_Z.pick_cube_animation_N)this_Z.pick_cube_animation_N--;if(this_Z.k)t.u[this_Z.t].y=this_Z.y;else if(is_Q(tile_at(this_Z.x,this_Z.y-28))||is_Q(tile_at(this_Z.x+24,this_Z.y-28)))t.u[this_Z.t].y=~~((this_Z.y+4)/32)*32;else t.u[this_Z.t].y=this_Z.y-32+this_Z.pick_cube_animation_N*4}else this_Z.s=0;if(tile_at(this_Z.x+24/2,this_Z.y+16)==2||tile_at(this_Z.x+24/2,this_Z.y+16)==24){M=0;for(j=0;j<20;j++)for(i=0;i<40;i++)if(t.x[j][i]==6)M++;if(M==0){I=true;this_Z.a=0}}if(!this_Z.k&&(this_Z.C[N]||this_Z.z[N])){this_Z.shoot_blue=0;this_Z.shoot_orange=0;if(this_Z.C[N]){this_Z.shoot_blue=1;this_Z.angle=Math.atan2(this_Z.C[N][0]-(this_Z.x+24/2),this_Z.C[N][1]-(this_Z.y+40+16))}if(this_Z.z[N]){this_Z.shoot_orange=1;this_Z.angle=Math.atan2(this_Z.z[N][0]-(this_Z.x+24/2),this_Z.z[N][1]-(this_Z.y+40+16))}this_Z.portal_shoot_x=this_Z.x+24/2;this_Z.portal_shoot_y=this_Z.y+16;this_Z.portal_shoot_vx=Math.sin(this_Z.angle);this_Z.portal_shoot_vy=Math.cos(this_Z.angle)}for(ah in ag=[["shoot_blue",X,"blue"],["shoot_orange",Y,"orange"]])if(this_Z[ag[ah][0]])for(i=0;i<40;i++){this_Z[ag[ah][0]]+=.001;this_Z.portal_shoot_x+=this_Z[ag[ah][0]]*this_Z.portal_shoot_vx;this_Z.portal_shoot_y+=this_Z[ag[ah][0]]*this_Z.portal_shoot_vy;if(is_Q(tile_at(this_Z.portal_shoot_x,this_Z.portal_shoot_y))||tile_at(this_Z.portal_shoot_x,this_Z.portal_shoot_y)==7){this_Z[ag[ah][0]]=0;if(this_Z.portal_shoot_x%32<4&&!is_Q(tile_at(this_Z.portal_shoot_x-32,this_Z.portal_shoot_y))&&this_Z.portal_shoot_vx>0)m=3;if(this_Z.portal_shoot_x%32>28&&!is_Q(tile_at(this_Z.portal_shoot_x+32,this_Z.portal_shoot_y))&&this_Z.portal_shoot_vx<0)m=1;if(this_Z.portal_shoot_y%32<4&&!is_Q(tile_at(this_Z.portal_shoot_x,this_Z.portal_shoot_y-32))&&this_Z.portal_shoot_vy>0)m=0;if(this_Z.portal_shoot_y%32>28&&!is_Q(tile_at(this_Z.portal_shoot_x,this_Z.portal_shoot_y+32))&&this_Z.portal_shoot_vy<0)m=2;if(tile_at(this_Z.portal_shoot_x,this_Z.portal_shoot_y)==8){this_Z[ag[ah][0]]=1;if(m==0){this_Z.portal_shoot_vy=-this_Z.portal_shoot_vy;this_Z.portal_shoot_y=~~(this_Z.portal_shoot_y/32)*32-1}else if(m==2){this_Z.portal_shoot_vy=-this_Z.portal_shoot_vy;this_Z.portal_shoot_y=~~(this_Z.portal_shoot_y/32)*32+32+1}else if(m==1){this_Z.portal_shoot_vx=-this_Z.portal_shoot_vx;this_Z.portal_shoot_x=~~(this_Z.portal_shoot_x/32)*32+32+1}else{this_Z.portal_shoot_vx=-this_Z.portal_shoot_vx;this_Z.portal_shoot_x=~~(this_Z.portal_shoot_x/32)*32-1}}if(tile_at(this_Z.portal_shoot_x,this_Z.portal_shoot_y)==4&&(~~(this_Z.portal_shoot_x/32)!=ag[1-ah][1].q||~~(this_Z.portal_shoot_y/32)!=ag[1-ah][1].r||ag[1-ah][1].side!=m)){ag[ah][1].q=~~(this_Z.portal_shoot_x/32);ag[ah][1].r=~~(this_Z.portal_shoot_y/32);ag[ah][1].side=m}break}else{c.fillStyle=ag[ah][2];c.fillRect(this_Z.portal_shoot_x,this_Z.portal_shoot_y+40,6,6)}}if(tile_at(this_Z.x+1,this_Z.y+1)!=4&&tile_at(this_Z.x+24-1,this_Z.y+1)!=4&&tile_at(this_Z.x+1,this_Z.y+31)!=4&&tile_at(this_Z.x+ +24-1,this_Z.y+31)!=4)this_Z.k=false;if(this_Z.c)this_Z.c--}if(this_Z.a==3){this_Z.f+=2;if(this_Z.f>24)this_Z.f=24;this_Z.y+=this_Z.f}};draw_Z=function(Z,past){c.save();c.translate(Z.x+24/2-2,Z.y);if(Z.i==0)c.scale(-1,1);if(past)c.globalAlpha=.75;else if(ae.length){c.fillStyle="#fff";c.fillText("\u25bc",0,10)}if(!(past&&N>Z.p))c.drawImage(b,[26,[27,28,29][~~(N/2)%3],30,31][Z.a]*16,0,16,16,-24/2,40,32,32);c.restore()};onclick=oncontextmenu=function(e){handle_clicks(e);return false};onmousedown=function(e){o=true;if(e.which==3)p=true;else p=false};onmouseup=function(){o=false};onmousemove=function(e){x=e.pageX-a.getBoundingClientRect().left-document.documentElement.scrollLeft-document.body.scrollLeft;y=e.pageY-a.getBoundingClientRect().top-document.documentElement.scrollTop-document.body.scrollTop;q=Math.floor(x/32);r=Math.floor((y-40)/32);if(d==3){if(o&&A!=14&&A!=15)handle_clicks(e);draw_screen(1)}};handle_clicks=function(e){if(d==0){c.beginPath();c.rect(500,400,100,80);if(c.isPointInPath(x,y)){d=1;draw_screen()}c.closePath();c.beginPath();c.rect(650,400,100,80);if(c.isPointInPath(x,y)){d=3;reset_maker_level();draw_screen()}c.closePath()}if(d==1){c.beginPath();c.rect(30,30,50,50);if(c.isPointInPath(x,y)){d=0;draw_screen()}c.closePath();c.beginPath();c.rect(590,520,100,80);if(c.isPointInPath(x,y))open("http://goo.gl/oBx0S1");c.closePath();for(i=0;i<10;i++)for(j=0;j<3;j++){m=j*10+i+1;if(+localStorage["scpm"]>=m){c.beginPath();c.rect(i*120+50,j*100+120,100,80);if(c.isPointInPath(x,y)){n=1;d=2;_=0;s=m;t=levels[m];draw_screen()}c.closePath()}}}if(d==2&&N>0){if(e.which==1)O.C[N]=[x,y];if(e.which==3)O.z[N]=[x,y];c.beginPath();c.rect(1240,0,32,32);if(c.isPointInPath(x,y)){clearInterval(ad);d=n;draw_screen()}c.closePath()}if(d==3){t.hash="";for(j=0;j<20;j++)for(i=0;i<40;i++){tile=t.x[j][i]||0;tile=tile<16||tile>21?tile:0;t.hash+=String.fromCharCode(tile+48)}c.beginPath();c.rect(750,4,100,32);if(c.isPointInPath(x,y)){n=3;d=2;draw_screen()}c.closePath();c.beginPath();c.rect(875,4,100,32);if(c.isPointInPath(x,y)){location.hash="";if(t.tested==false)alert("You need to test and I your level first.");else{open("https://www.twitter.com/intent/tweet?text="+encodeURIComponent("I made a level for #SuperChronoPortalMaker !\nPlay the game here: "+location.origin+location.pathname+". \nPlay my level here:"+encodeURI(location.origin+location.pathname+"#"+JSON.stringify({hash:t.hash,pipes:t.pipes,balances:t.balances}))+"\nPlz RT"));G=true}}c.closePath();c.beginPath();c.rect(1E3,4,100,32);if(c.isPointInPath(x,y)){reset_maker_level();draw_screen()}c.closePath();c.beginPath();c.rect(1125,4,100,32);if(c.isPointInPath(x,y))if(G||!G&&confirm("Quit? This level will be lost!")){d=0;draw_screen()}c.closePath();for(i=0;i<16;i++){c.beginPath();c.rect(8.5+i*35,3.5,32,32);if(c.isPointInPath(x,y)&&pipe_click==0&&w==0){H=true;A=i;if(A==14)t.pipes[v]=[];if(A==15)t.balances[z]=[];draw_screen()}c.closePath()}c.beginPath();c.rect(0,40,1280,608);if(c.isPointInPath(x,y)){if(H)G=false;t.tested=false;if(p==true){if(t.x[r][q]==22){t.x[r][q]=0;t.x[r+1][q]=0}if(t.x[r][q]==23){t.x[r][q]=0;t.x[r-1][q]=0}if(is_writable(q,r))t.x[r][q]=0;if(pipe_click==0){if(t.x[r][q]==16)for(i in t.pipes)if(t.pipes[i][0]==q&&(t.pipes[i][1]==r||t.pipes[i][2]==r)){for(j=t.pipes[i][1];j<20;j++)if(t.x[j][q]==16||t.x[j][q]==18){t.x[j][q]=0;t.x[j][q+1]=0}else break;for(j=t.pipes[i][2];j<20;j++)if(t.x[j][q]==16||t.x[j][q]==18){t.x[j][q]=0;t.x[j][q+1]=0}else break;t.x[t.pipes[i][4]][t.pipes[i][3]]=0;delete t.pipes[i]}if(t.x[r][q]==17)for(i in t.pipes)if(t.pipes[i][0]==q-1&&(t.pipes[i][1]==r||t.pipes[i][2]==r)){for(j=t.pipes[i][1];j<20;j++)if(t.x[j][q]==17||t.x[j][q]==19){t.x[j][q]=0;t.x[j][q-1]=0}else break;for(j=t.pipes[i][2];j<20;j++)if(t.x[j][q]==17||t.x[j][q]==19){t.x[j][q]=0;t.x[j][q-1]=0}else break;t.x[t.pipes[i][4]][t.pipes[i][3]]=0;delete t.pipes[i]}t.tmp=t.pipes;t.pipes=[];for(i in t.tmp)if(t.tmp[i])t.pipes.push(t.tmp[i])}if(w==0){if(t.x[r][q]==15)for(i in t.balances)if(t.balances[i][1]==r&&(t.balances[i][0]==q||t.balances[i][0]==q-1||t.balances[i][0]==q+1)||t.balances[i][3]==r&&(t.balances[i][2]==q||t.balances[i][2]==q-1||t.balances[i][2]==q+1)){t.x[t.balances[i][1]][t.balances[i][0]]=0;t.x[t.balances[i][1]][t.balances[i][0]-1]=0;t.x[t.balances[i][1]][t.balances[i][0]+1]=0;t.x[t.balances[i][3]][t.balances[i][2]]=0;t.x[t.balances[i][3]][t.balances[i][2]-1]=0;t.x[t.balances[i][3]][t.balances[i][2]+1]=0;delete t.balances[i]}t.tmp=t.balances;t.balances=[];for(i in t.tmp)if(t.tmp[i])t.balances.push(t.tmp[i])}}else if(A==1){if(r>0&&is_writable(q,r)&&is_writable(q,r-1)){for(j in t.x)for(i in t.x[j])if(t.x[j][i]==22||t.x[j][i]==23)t.x[j][i]=0;t.x[r-1][q]=22;t.x[r][q]=23}}else if(A==2){if(is_writable(q,r)){for(j in t.x)for(i in t.x[j])if(t.x[j][i]==2)t.x[j][i]=0;t.x[r][q]=2}}else if(A==14){if(is_writable(q,r)&&is_writable(q+1,r))if(pipe_click==0){t.pipes[v]=[];t.pipes[v][0]=q;t.pipes[v][1]=r;t.x[r][q]=16;t.x[r][q+1]=17;pipe_click++}else if(pipe_click==1){if(true){t.pipes[v][2]=r;t.x[r][t.pipes[v][0]]=16;t.x[r][t.pipes[v][0]+1]=17;pipe_click++}}else if(pipe_click==2){t.pipes[v][3]=q;t.pipes[v][4]=r;t.x[r][q]=20;v++;pipe_click=0}}else if(A==15){if(is_writable(q-1,r)&&is_writable(q,r)&&is_writable(q+1,r)){if(w==0){t.balances[z]=[];t.balances[z][0]=q;t.balances[z][1]=r;w++}else if(w==1){t.balances[z][2]=q;t.balances[z][3]=r;z++;w=0}t.x[r][q-1]=15;t.x[r][q]=15;t.x[r][q+1]=15}}else if(is_writable(q,r))t.x[r][q]=A;draw_screen(1)}c.closePath()}};onkeydown=function(e){if(d==2){if(e.keyCode==38||e.keyCode==90||e.keyCode==87)if(O.n){O.m=true;O.n=false;aa=true}if(e.keyCode==39||e.keyCode==68){O.ac=true;ac=true}if(e.keyCode==37||e.keyCode==65||e.keyCode==81){O.ab=true;ab=true}}};onkeyup=function(e){if(d==2){if(e.keyCode==38||e.keyCode==90||e.keyCode==87){O.m=false;O.n=true;aa=false}if(e.keyCode==39||e.keyCode==68){O.ac=false;ac=false}if(e.keyCode==37||e.keyCode==65||e.keyCode==81){O.ab=false;ab=false}if(e.keyCode==82){reset_current_level();_=0}if(e.keyCode==32)O.r[N]=true;if(e.keyCode==16)O.shift[N]=true}};draw_screen=onload=onhashchange=function(no_reset){a.width^=0;c.font="bold 30px arial";c.textAlign="center";c["mozImageSmoothingEnabled"]=false;c["imageSmoothingEnabled"]=false;if(d==0){a.style.cursor="pointer";t={hash:"0000==0000000000000000000000000000000000000====0000000000000000000000000000000000000000000000000000000000000000===000000000000000000000000000000000000=====00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900000000000000059595000000000000000000000000000000000000000000000@A00000000000000000000000000000000000000BC00J00000000000000000000000000000000000BC03333333333333333333333333333333333333333",pipes:[[35,15,17,40,17]],balances:[]};ae=[,];first_N();parse_draw_map();c.drawImage(b,512,0,70,16,120,150,280,64);c.drawImage(b,583,0,270,16,120,250,1080,64);c.fillStyle="#000";c.beginPath();c.fillRect(500,400,100,80);c.fillRect(650,400,100,80);c.fillStyle="#fff";c.fillText("MAKE",700,450);c.fillText("PLAY",550,450);c.stroke();c.closePath()}if(d==1){a.style.cursor="pointer";c.beginPath();c.fillStyle="#000";c.fillRect(590,520,100,80);k=0;for(i=0;i<10;i++)for(j=0;j<3;j++){l=j*10+i+1;c.fillStyle="#000";c.fillRect(i*120+50,j*100+120,100,80);c.fillStyle="#fff";c.fillText(+localStorage["scpm"]>=l?l:"?",i*120+100,j*100+170);if(localStorage["scpm"+l]<=levels[l].record)c.fillText("\ud83c\udfc5",i*120+135,j*100+145);k+=+localStorage["scpm"+l]||0}c.fillText("\u25c0",40,70);c.fillText("JS13K LEVELS",640,70);c.fillText("TWITTER LEVELS",640,470);c.fillText("GO",640,570);c.fillStyle="#000";if(k)c.fillText("Total time: "+~~(k/30/60)+":"+("0"+(k/30%60).toFixed(2)).slice(-5),1100,450);c.stroke();c.closePath()}if(d==2){a.style.cursor="crosshair";if(ad)clearInterval(ad);reset_current_level();ad=setInterval(function(){a.width^=0;c.font="bold 30px arial";c.fillStyle="#000";c.fillText("\u00d7",1255,25);if(n==1){c.font="bold 30px arial";c.fillStyle="black";c.textAlign="center";c.fillText(t.txt||"",640,80)}if(O.ab)O.j[N]=true;if(O.ac)O.g[N]=true;if(O.m)O.l[N]=true;c.mozImageSmoothingEnabled=false;c.imageSmoothingEnabled=false;if(N==0)first_N();for(var i in t.pipes){if(V[i].pressed)af=t.pipes[i][2]*32;else af=t.pipes[i][1]*32;if(V[i].y>af)V[i].y=Math.max(V[i].y-4,af);else if(V[i].y<af)V[i].y=Math.min(V[i].y+4,af);D=false;for(var k=~~(V[i].y/32)+1;k<21;k++)if(k<20&&!is_Q(tile_at(t.pipes[i][0]*32,k*32))&&!is_Q(tile_at(t.pipes[i][0]*32+1*32,k*32))&&!D){draw_tile(18,t.pipes[i][0],k);draw_tile(19,t.pipes[i][0]+1,k)}else{D=true;V[i].y_base=k*32;break}draw_sprite(16,t.pipes[i][0]*32,V[i].y+40);draw_sprite(17,t.pipes[i][0]*32+32,V[i].y+40);if(t.pipes[i][4])if(V[i].pressed)draw_tile(21,t.pipes[i][3],t.pipes[i][4]);else draw_tile(20,t.pipes[i][3],t.pipes[i][4])}parse_draw_map();R=false;for(j=0;j<20;j++)for(i=0;i<40;i++)if(t.x[j][i]==25)t.x[j][i]=11;for(i in t.pipes)V[i].pressed=false;O.weight=1;for(i in t.u)t.u[i].weight=1;for(i in t.balances){W[i].weight1=0;W[i].weight2=0}for(Z in ae)play_Z(ae[Z],1);if(ae.length)Z=-1;else Z=0;play_Z(O);for(i in t.u){if(tile_at(t.u[i].x+1,t.u[i].y+1)!=4&&tile_at(t.u[i].x+32-1,t.u[i].y+1)!=4&&tile_at(t.u[i].x+1,t.u[i].y+31)!=4&&tile_at(t.u[i].x+32-1,t.u[i].y+31)!=4)t.u[i].k=false;if(t.u[i].c)t.u[i].c--;if(t.u[i].Z===null){if(!t.u[i].c&&!is_Q(tile_at(t.u[i].x,t.u[i].y+31))&&!is_Q(tile_at(t.u[i].x+31,t.u[i].y+31)))if(t.u[i].e>1)t.u[i].e-=1;else if(t.u[i].e<-1)t.u[i].e+=1;else t.u[i].e=0;gravity_and_collisions(t.u[i],32,1)}c.drawImage(b,12*16,0,16,16,t.u[i].x,40+t.u[i].y,32,32)}for(Z in ae)draw_Z(ae[Z],1);draw_Z(O);for(i in j={"blue":X,"orange":Y})draw_tile(4,j[i].q,j[i].r);for(i in j={"blue":X,"orange":Y}){c.fillStyle=i;if(j[i].side==0)c.fillRect(j[i].q*32,j[i].r*32+40-8,32,8);if(j[i].side==1)c.fillRect(j[i].q*32+28,j[i].r*32+40,8,32);if(j[i].side==2)c.fillRect(j[i].q*32,j[i].r*32+40+28,32,8);if(j[i].side==3)c.fillRect(j[i].q*32-4,j[i].r*32+40,8,32)}if(R!=U){mkaudio(SNDswitch0).play();for(j=0;j<20;j++)for(i=0;i<40;i++)if(t.x[j][i]==9)t.x[j][i]=10;else if(t.x[j][i]==10)t.x[j][i]=9}U=R;for(i in t.balances){if(W[i].weight1>W[i].weight2&&!is_Q(tile_at(t.balances[i][0]*32-32,W[i].y1+20))&&!is_Q(tile_at(t.balances[i][0]*32,W[i].y1+20))&&!is_Q(tile_at(t.balances[i][0]*32+32,W[i].y1+20))&&!is_Q(tile_at(t.balances[i][2]*32-32,W[i].y2-4))&&!is_Q(tile_at(t.balances[i][2]*32,W[i].y2-4))&&!is_Q(tile_at(t.balances[i][2]*32+32,W[i].y2-4))){W[i].y1+=4;W[i].y2-=4}else if(W[i].weight2>W[i].weight1&&!is_Q(tile_at(t.balances[i][2]*32-32,W[i].y2+20))&&!is_Q(tile_at(t.balances[i][2]*32,W[i].y2+20))&&!is_Q(tile_at(t.balances[i][2]*32+32,W[i].y2+20))&&!is_Q(tile_at(t.balances[i][0]*32-32,W[i].y1-4))&&!is_Q(tile_at(t.balances[i][0]*32,W[i].y1-4))&&!is_Q(tile_at(t.balances[i][0]*32+32,W[i].y1-4))){W[i].y1-=4;W[i].y2+=4}c.beginPath();c.strokeStyle="#fff";c.lineWidth=2;c.moveTo(t.balances[i][0]*32+16,W[i].y1+40+8);c.lineTo(t.balances[i][2]*32+16,W[i].y2+40+8);c.stroke();c.closePath();draw_sprite(15,t.balances[i][0]*32-32,W[i].y1+40);draw_sprite(15,t.balances[i][0]*32,W[i].y1+40);draw_sprite(15,t.balances[i][0]*32+32,W[i].y1+40);draw_sprite(15,t.balances[i][2]*32-32,W[i].y2+40);draw_sprite(15,t.balances[i][2]*32,W[i].y2+40);draw_sprite(15,t.balances[i][2]*32+32,W[i].y2+40)}N++;if(!I)_++;c.font="bold 100px arial";c.fillStyle="#000";c.textAlign="center";if(I){J++;c.fillText("CLEARED!",640,300);c.font="bold 30px arial";if(n==1){c.fillRect(450,350,400,130);c.fillStyle="#fff";document.title=_;c.fillText("Time: "+(_/30).toFixed(2)+"s",640,400);c.fillText("Dev record: "+(t.record/30).toFixed(2)+"s",640,450);if(localStorage["scpm"+s])localStorage["scpm"+s]=Math.min(+localStorage["scpm"+s],_);else localStorage["scpm"+s]=_}}if(O.a==3){K++;c.fillText("LOST!",640,350)}for(Z in ae)if(ae[Z].a==3||ae[Z].p<N&&!ae[Z].q&&!I){L++;c.fillText("PARADOX!",640,350)}if(J==1)mkaudio(SNDI0).play();if(K==1)mkaudio(SNDdie0).play();if(L==1)mkaudio(SNDglitch1).play();if(K>=30){a.width^=0;clearInterval(ad);d=n;t.tested=true;a.width^=0;draw_screen()}if(L)for(m=~~(L/5);m--;)c.drawImage(a,i=Math.random()*1280,j=Math.random()*648,k=Math.random()*1280,l=Math.random()*648,i+Math.random()*100-50,j+Math.random()*100-50,k,l);if(J>=90){_=0;if(n==1){s++;localStorage["scpm"]=Math.max(+localStorage["scpm"],s)}a.width^=0;clearInterval(ad);d=n;t.tested=true;a.width^=0;draw_screen()}if(K>=30||L>=60){a.width^=0;clearInterval(ad);d=n;t.tested=false;a.width^=0;draw_screen()}},33)}if(d==3){a.style.cursor="pointer";c.strokeStyle="#777";c.lineWidth=1;c.fillStyle="#fff";c.fillRect(0,0,1280,648);c.fillStyle="#5C94FC";c.fillRect(0,40,1280,640);c.beginPath();for(i=0;i<16;i++){c.fillRect(8+i*35,3,32,32);c.rect(8+i*35,3,32,32);draw_sprite(i,8+i*35,3)}c.stroke();c.closePath();if(!no_reset)if(t.hash){t.x=[];for(var j=0;j<20;j++){t.x[j]=[];for(var i=0;i<40;i++)t.x[j][i]=t.hash.charCodeAt(j*40+i)-48}}for(j=0;j<t.x.length;j++)for(i=0;i<t.x[j].length;i++){F=t.x[j][i];draw_tile(F,i,j);if(F==2){E=false;if(j<20)for(k=j+1;k<20;k++)if(!t.x[k][i]&&!E)draw_tile(24,i,k);else E=true}}for(i in t.pipes){C=t.pipes[i][1];if(t.pipes[i][2]){B=t.pipes[i][1]<t.pipes[i][2]?t.pipes[i][1]:t.pipes[i][2];C=t.pipes[i][1]<t.pipes[i][2]?t.pipes[i][2]:t.pipes[i][1];for(k=B+1;k<C;k++){draw_tile(18,t.pipes[i][0],k);draw_tile(19,t.pipes[i][0]+1,k);t.x[k][t.pipes[i][0]]=18;t.x[k][t.pipes[i][0]+1]=19}}if(t.pipes[i][1]){D=false;for(k=C+1;k<21;k++)if(k<20&&!t.x[k][t.pipes[i][0]]&&!t.x[k][t.pipes[i][0]+1]&&!D){draw_tile(18,t.pipes[i][0],k);draw_tile(19,t.pipes[i][0]+1,k)}else D=true}if(t.pipes[i][1]){draw_tile(16,t.pipes[i][0],t.pipes[i][1]);draw_tile(17,t.pipes[i][0]+1,t.pipes[i][1]);t.x[t.pipes[i][1]][t.pipes[i][0]]=16;t.x[t.pipes[i][1]][t.pipes[i][0]+1]=17}if(t.pipes[i][2]){draw_tile(16,t.pipes[i][0],t.pipes[i][2]);draw_tile(17,t.pipes[i][0]+1,t.pipes[i][2]);t.x[t.pipes[i][2]][t.pipes[i][0]]=16;t.x[t.pipes[i][2]][t.pipes[i][0]+1]=17}if(t.pipes[i][4])draw_tile(20,t.pipes[i][3],t.pipes[i][4])}for(i in t.balances){if(t.balances[i][3]){c.beginPath();c.strokeStyle="#fff";c.lineWidth=2;c.moveTo(t.balances[i][0]*32+16,t.balances[i][1]*32+40+8);c.lineTo(t.balances[i][2]*32+16,t.balances[i][3]*32+40+8);c.stroke();c.closePath();draw_tile(15,t.balances[i][2]-1,t.balances[i][3]);draw_tile(15,t.balances[i][2],t.balances[i][3]);draw_tile(15,t.balances[i][2]+1,t.balances[i][3]);t.x[t.balances[i][3]][t.balances[i][2]-1]=15;t.x[t.balances[i][3]][t.balances[i][2]]=15;t.x[t.balances[i][3]][t.balances[i][2]+1]=15}if(t.balances[i][1]){draw_tile(15,t.balances[i][0]-1,t.balances[i][1]);draw_tile(15,t.balances[i][0],t.balances[i][1]);draw_tile(15,t.balances[i][0]+1,t.balances[i][1]);t.x[t.balances[i][1]][t.balances[i][0]-1]=15;t.x[t.balances[i][1]][t.balances[i][0]]=15;t.x[t.balances[i][1]][t.balances[i][0]+1]=15}}if(r>=0&&!p)if(A==1){if(r>0){draw_tile(22,q,r-1);draw_tile(23,q,r)}}else if(A==14){if(pipe_click==0){draw_tile(16,q,r);draw_tile(17,q+1,r)}if(pipe_click==1){draw_tile(16,t.pipes[v][0],r);draw_tile(17,t.pipes[v][0]+1,r)}if(pipe_click==2)draw_tile(20,q,r)}else if(A==15){draw_tile(15,q-1,r);draw_tile(15,q,r);draw_tile(15,q+1,r)}else draw_tile(A,q,r);c.beginPath();c.strokeStyle="#777";c.lineWidth=1;for(i=0;i<40;i++){c.moveTo(i*32,40);c.lineTo(i*32,648)}for(j=0;j<20;j++){c.moveTo(0,40+j*32);c.lineTo(1280,40+j*32)}c.fillStyle="#000";c.fillRect(750,4,100,32);c.fillRect(875,4,100,32);c.fillRect(1E3,4,100,32);c.fillRect(1125,4,100,32);c.fillStyle="#fff";c.font="bold 20px arial";c.fillText("TEST",800,28);c.fillText("SHARE",925,28);c.fillText("CLEAR",1050,28);c.fillText("EXIT",1175,28);c.stroke();c.closePath();c.beginPath();i=A;c.strokeStyle="red";c.lineWidth=3;c.rect(8+i*35,3.5,32,32);c.stroke();c.closePath()}};onhashchange=function(){if(location.hash){t=JSON.parse(decodeURIComponent(location.hash.slice(1)));d=2;draw_screen()}};onhashchange();mkaudio=function(fn){var data=[];for(var i=0;;i++){var smp=fn(i);if(smp===null)break;data.push(smp)}var l=data.length;var l2=l*2;var b32=function(v){var s=0;var b="";for(var i=0;i<4;i++,s+=8)b+=String.fromCharCode(v>>s&255);return b};var b16=function(v){var b=b32(v);return b[0]+b[1]};var SR=48E3;var b="RIFF"+b32(l2+36)+"WAVEfmt "+b32(16)+b16(1)+b16(1)+b32(SR)+b32(SR*2)+b16(2)+b16(16)+"data"+b32(l2);for(var i in data)b+=b16(data[i]*1E4);return new Audio("data:audio/wav;base64,"+btoa(b))};P=Math.pow;S=Math.sin;T=function(i,n){return(n-i)/n};SNDjump2=function(i){i=i*1.5;var n=2E4;if(i>n)return null;return(P(i,1.075)&128?1:-1)*P(T(i,n),2)};SNDdie0=function(i){var n=5E4;if(i>n)return null;return(P(i,.9)&200?1:-1)*P(T(i,n),3)};SNDbrick1=function(i){var n=5E3;if(i>n)return null;return(P(i+S(i*.01)*1E3,.8)&200?.5:-.5)*P(T(i,n),1)};SNDglitch1=function(i){var n=9E4;if(i>n)return null;return(P(i+S(i*.01)*1E3,.8)&200?.5:-.5)*P(T(i,n),1)};SNDcoin1=function(i){var n=16E3;var c=n/7;if(i>n)return null;var q=P(T(i,n),2.1);return(i<c?i+S(-i/900)*10&16:i&13)?q:-q};SNDI0=function(i){var notes=[0,4,7,12,undefined,7,12];var n=4E4;if(i>n)return null;var idx=notes.length*i/n|0;var note=notes[idx];if(note===undefined)return 0;var r=P(2,note/12)*.8;var q=T(i*notes.length%n,n);return i*r&64?q:-q};SNDswitch0=function(i){var n=7E3;if(i>n)return null;return((i^i>>3^i*i*7.3^i<<4)&65535)/65536*T(i,n)};SNDtimetravel0=function(i){var n=5E4;var n1=1E5;if(i>n)return null;i=P(i,1.2-S(i/n1))*7;var x=S(i/30+S(i/1500));return P(x,9)*T(i,n)};</script>